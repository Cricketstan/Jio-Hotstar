<html lang="en"> 
<head> 
  <meta charset="UTF-8"> 
  <title>dillzy</title> 
  <meta http-equiv="X-UA-Compatible" content="IE=edge"> 
  <meta name="viewport" content="width=device-width, initial-scale=1.0"> 
  <script src="//content.jwplatform.com/libraries/SAHhwvZq.js"></script> 
    
  <style> 
    body { 
      margin: 0; 
    } 
    .jwplayer { 
      position: absolute !important; 
    } 
    .jwplayer.jw-flag-aspect-mode { 
      min-height: 100%; 
      max-height: 100%; 
    } 
  </style> 
</head> 
<body> 
  <div id="jwplayerDiv"></div> 
  
  <script>
      const urlParams = new URLSearchParams(window.location.search);
      const channelID = urlParams.get('id');  // <-- using ?id=username

      async function loadKickStream() {
          if (!channelID) {
              alert("No ID provided");
              return;
          }

          // Fetch fresh playback URL
          const apiURL = "https://api.allorigins.win/get?url=" + 
              encodeURIComponent("https://kick.com/api/v2/channels/" + channelID);

          const res = await fetch(apiURL);
          const data = await res.json();
          const channel = JSON.parse(data.contents);

          const stream = channel.playback_url;

          if (!stream) {
              alert("Channel offline or no playback URL available.");
              return;
          }

          // DO NOT CHANGE YOUR PLAYER â€” ONLY STREAM VALUE SET
          jwplayer("jwplayerDiv").setup({ 
              file: stream, 
              position: 'bottom', 
              autostart: true, 
              stretching: "uniform", 
              width: "100%", 
              type: "hls"
          });
      }

      loadKickStream();
  </script>
</body> 
</html>
